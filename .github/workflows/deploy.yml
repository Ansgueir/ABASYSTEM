name: Deploy to Server

on:
  push:
    branches:
      - main

jobs:
  deploy:
    runs-on: self-hosted

    steps:
    - name: Update Application
      run: |
        # Navigate to the live application directory
        cd ~/aba-supervision-system
        
        # Pull the latest changes
        git pull origin main
        
        # Install dependencies (only if package.json changed, but safe to run)
        # npm install --production
        
        # Build (if typically required)
        # npm run build
        
        # Restart the application
        # pm2 restart aba-supervision-system
        
        echo "Deployment triggered successfully on Self-Hosted Runner"
